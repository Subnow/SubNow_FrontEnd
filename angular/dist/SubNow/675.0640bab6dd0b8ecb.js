"use strict";(self.webpackChunkSubNow=self.webpackChunkSubNow||[]).push([[675],{3675:(G,d,i)=>{i.r(d),i.d(d,{SetupModule:()=>U});var h=i(6814),u=i(2236),o=i(9212),r=i(6806),l=i(95),s=i(7757);let g=(()=>{class t{constructor(a){this.restService=a,this.apiName="Default",this.get=e=>this.restService.request({method:"GET",url:"/api/app/company"},{apiName:this.apiName,...e}),this.update=(e,n)=>this.restService.request({method:"PUT",url:"/api/app/company",body:e},{apiName:this.apiName,...n})}static#o=this.\u0275fac=function(e){return new(e||t)(o.LFG(s.vgb))};static#t=this.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var v=i(9290),y=i(2425),Z=i(1411),p=i(9193),L=i(2386);function b(t,m){if(1&t&&(o.TgZ(0,"div",34),o._UZ(1,"img",35),o.TgZ(2,"span",36),o._uU(3),o.qZA()()),2&t){const a=m.item;o.xp6(),o.Q6J("src",null==a?null:a.flagUrl,o.LSH),o.xp6(2),o.Oqu(null==a?null:a.name)}}function A(t,m){if(1&t&&(o.TgZ(0,"div",34),o._UZ(1,"img",35),o.TgZ(2,"span",36),o._uU(3),o.qZA()()),2&t){const a=m.item;o.xp6(),o.Q6J("src",null==a?null:a.flagUrl,o.LSH),o.xp6(2),o.Oqu(null==a?null:a.name)}}let f=(()=>{class t{constructor(a,e,n,c,z){this._fb=a,this._companyService=e,this._countryService=n,this._localizationService=c,this._toastr=z,this.activeModal=(0,o.f3M)(r.Kz),this.countryList=[]}ngOnInit(){this.initForm(),this.getCompanySetting(),this.getCountryList()}initForm(){this.form=this._fb.group({name:["",l.Validators.required],description:[""],companyRegistrationNo:[""],taxID:[""],address1:[""],address2:[""],postalCode:[""],city:[""],stateOrProvince:[""],countryId:[null]})}updateForm(){this.form.patchValue({name:this.company?.name,description:this.company?.description,companyRegistrationNo:this.company?.companyRegistrationNo,taxID:this.company?.taxID,address1:this.company?.address1,address2:this.company?.address2,postalCode:this.company?.postalCode,city:this.company?.city,stateOrProvince:this.company?.stateOrProvince,countryId:"00000000-0000-0000-0000-000000000000"===this.company?.countryId?null:this.company?.countryId})}getCompanySetting(){this._companyService.get().subscribe(a=>{this.company=a,this.updateForm(),console.log("this ===>",this.company)})}getCountryList(){this._countryService.getAll().subscribe(a=>{this.countryList=a?.items})}closeModal(){this.activeModal.close()}editCompany(){const a={id:this?.company?.id,name:this?.form.get("name").value,nameAr:"",description:this?.form.get("description").value,currencyCode:"SAR",companyRegistrationNo:this?.form.get("companyRegistrationNo").value,taxID:this?.form.get("taxID").value,address1:this?.form.get("address1").value,address2:this?.form.get("address2").value,photo:"",postalCode:this?.form.get("postalCode").value,stateOrProvince:this?.form.get("stateOrProvince").value,city:this?.form.get("city").value,countryId:this?.form.get("countryId").value};this._companyService.update(a).subscribe(()=>{this._toastr.success(this._localizationService.instant("General::companyEditSuccessfully"),"",{timeOut:1e3}),this.closeModal()})}static#o=this.\u0275fac=function(e){return new(e||t)(o.Y36(l.qu),o.Y36(g),o.Y36(v.T),o.Y36(s.oQ8),o.Y36(y._W))};static#t=this.\u0275cmp=o.Xpm({type:t,selectors:[["app-company-settings-modal"]],decls:127,vars:97,consts:[[1,"modal-header"],[1,"container"],[1,"modal-header-wrapper"],[1,"modal-close",3,"click"],[1,"fa","fa-xmark"],[1,"title"],["type","submit",1,"btn","btn-save",3,"click"],[1,"modal-body"],[1,"modal-body-wrapper"],[1,"form","section-form","gap-20",3,"formGroup"],[1,"row","g-0","pb-20","border-bottom"],[1,"col-lg-3","col-md-12"],[1,"form-name"],[1,"form-hint"],[1,"col-lg-9","col-md-12"],[1,"row"],[1,"col-lg-8","col-md-12"],[1,"form-label"],["type","text","formControlName","name",1,"form-control",3,"placeholder"],[1,"pb-28"],["rows","4","formControlName","description","maxlength","250",1,"form-control",3,"placeholder"],["countDes",""],[1,"control-hint"],[1,"col-lg-8","col-md-12","mb-16"],[1,"control-icon"],["type","text","formControlName","companyRegistrationNo","maxlength","20",1,"form-control",3,"placeholder"],["tooltipClass","custom-tooltip","placement","top","container","body",1,"icon","fa-regular","fa-circle-question",3,"ngbTooltip"],["type","text","formControlName","taxID","maxlength","15",1,"form-control",3,"placeholder"],["type","text","formControlName","address1",1,"form-control",3,"placeholder"],["type","text","formControlName","address2",1,"form-control",3,"placeholder"],["type","text","formControlName","postalCode","maxlength","7",1,"form-control",3,"placeholder"],["formControlName","countryId","bindLabel","name","bindValue","id",1,"select-country",3,"placeholder","items","clearable"],["ng-label-tmp",""],["ng-option-tmp",""],[1,"country"],[1,"img-fluid",3,"src"],[1,"name"]],template:function(e,n){if(1&e&&(o.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"a",3),o.NdJ("click",function(){return n.closeModal()}),o._UZ(4,"i",4),o.qZA(),o.TgZ(5,"h2",5),o._uU(6),o.ALo(7,"abpLocalization"),o.qZA(),o.TgZ(8,"button",6),o.NdJ("click",function(){return n.editCompany()}),o.TgZ(9,"span"),o._uU(10),o.ALo(11,"abpLocalization"),o.qZA()()()()(),o.TgZ(12,"div",7)(13,"div",1)(14,"div",8)(15,"form",9)(16,"div",10)(17,"div",11)(18,"p",12),o._uU(19),o.ALo(20,"abpLocalization"),o.qZA(),o.TgZ(21,"p",13),o._uU(22),o.ALo(23,"abpLocalization"),o.qZA()(),o.TgZ(24,"div",14)(25,"div",15)(26,"div",16)(27,"label",17),o._uU(28),o.ALo(29,"abpLocalization"),o.TgZ(30,"sup"),o._uU(31,"*"),o.qZA()(),o._UZ(32,"input",18),o.ALo(33,"abpLocalization"),o.qZA()()()(),o.TgZ(34,"div",10)(35,"div",11)(36,"p",12),o._uU(37),o.ALo(38,"abpLocalization"),o.qZA(),o.TgZ(39,"p",13),o._uU(40),o.ALo(41,"abpLocalization"),o.qZA()(),o.TgZ(42,"div",14)(43,"div",15)(44,"div",16)(45,"div",19),o._UZ(46,"textarea",20,21),o.ALo(48,"abpLocalization"),o.TgZ(49,"span",22),o._uU(50),o.ALo(51,"abpLocalization"),o.qZA()()()()()(),o.TgZ(52,"div",10)(53,"div",11)(54,"p",12),o._uU(55),o.ALo(56,"abpLocalization"),o.qZA()(),o.TgZ(57,"div",14)(58,"div",15)(59,"div",23)(60,"label",17),o._uU(61),o.ALo(62,"abpLocalization"),o.qZA(),o.TgZ(63,"div",24),o._UZ(64,"input",25),o.ALo(65,"abpLocalization"),o._UZ(66,"i",26),o.ALo(67,"abpLocalization"),o.qZA()(),o.TgZ(68,"div",16)(69,"label",17),o._uU(70),o.ALo(71,"abpLocalization"),o.qZA(),o.TgZ(72,"div",24),o._UZ(73,"input",27),o.ALo(74,"abpLocalization"),o._UZ(75,"i",26),o.ALo(76,"abpLocalization"),o.qZA()()()()(),o.TgZ(77,"div",10)(78,"div",11)(79,"p",12),o._uU(80),o.ALo(81,"abpLocalization"),o.qZA()(),o.TgZ(82,"div",14)(83,"div",15)(84,"div",23)(85,"label",17),o._uU(86),o.ALo(87,"abpLocalization"),o.qZA(),o._UZ(88,"input",28),o.ALo(89,"abpLocalization"),o.qZA(),o.TgZ(90,"div",23)(91,"label",17),o._uU(92),o.ALo(93,"abpLocalization"),o.qZA(),o.TgZ(94,"div",24),o._UZ(95,"input",29),o.ALo(96,"abpLocalization"),o.qZA()(),o.TgZ(97,"div",23)(98,"label",17),o._uU(99),o.ALo(100,"abpLocalization"),o.qZA(),o.TgZ(101,"div",24),o._UZ(102,"input",30),o.ALo(103,"abpLocalization"),o.qZA()(),o.TgZ(104,"div",23)(105,"label",17),o._uU(106),o.ALo(107,"abpLocalization"),o.qZA(),o.TgZ(108,"div",24),o._UZ(109,"input",29),o.ALo(110,"abpLocalization"),o.qZA()(),o.TgZ(111,"div",23)(112,"label",17),o._uU(113),o.ALo(114,"abpLocalization"),o.qZA(),o.TgZ(115,"div",24),o._UZ(116,"input",29),o.ALo(117,"abpLocalization"),o.qZA()(),o.TgZ(118,"div",23)(119,"label",17),o._uU(120),o.ALo(121,"abpLocalization"),o.qZA(),o.TgZ(122,"ng-select",31),o.ALo(123,"abpLocalization"),o.ALo(124,"abpLocalization"),o.YNc(125,b,4,2,"ng-template",32)(126,A,4,2,"ng-template",33),o.qZA()()()()()()()()()),2&e){const c=o.MAs(47);o.xp6(6),o.Oqu(o.lcZ(7,35,"General::company")),o.xp6(4),o.Oqu(o.lcZ(11,37,"General::save")),o.xp6(5),o.Q6J("formGroup",n.form),o.xp6(4),o.Oqu(o.lcZ(20,39,"General::companyName")),o.xp6(3),o.Oqu(o.lcZ(23,41,"General::companyNameHint")),o.xp6(6),o.Oqu(o.lcZ(29,43,"General::companyName")),o.xp6(4),o.s9C("placeholder",o.lcZ(33,45,"General::companyName")),o.xp6(5),o.Oqu(o.lcZ(38,47,"General::description")),o.xp6(3),o.Oqu(o.lcZ(41,49,"General::descriptionCompanyHint")),o.xp6(6),o.s9C("placeholder",o.lcZ(48,51,"General::describeCompany")),o.xp6(4),o.AsE(" ",250-c.value.length," ",o.lcZ(51,53,"General::describeCompanyHint"),""),o.xp6(5),o.Oqu(o.lcZ(56,55,"General::companyTaxInformations")),o.xp6(6),o.Oqu(o.lcZ(62,57,"General::companyRegistrationNumber")),o.xp6(3),o.s9C("placeholder",o.lcZ(65,59,"General::companyRegistrationNumber")),o.xp6(2),o.s9C("ngbTooltip",o.lcZ(67,61,"General::companyRegistrationNumberTooltip")),o.xp6(4),o.Oqu(o.lcZ(71,63,"General::taxID")),o.xp6(3),o.s9C("placeholder",o.lcZ(74,65,"General::taxID")),o.xp6(2),o.s9C("ngbTooltip",o.lcZ(76,67,"General::taxIDTooltip")),o.xp6(5),o.Oqu(o.lcZ(81,69,"General::address")),o.xp6(6),o.Oqu(o.lcZ(87,71,"General::addressLine1")),o.xp6(2),o.s9C("placeholder",o.lcZ(89,73,"General::streetName")),o.xp6(4),o.Oqu(o.lcZ(93,75,"General::addressLine2")),o.xp6(3),o.s9C("placeholder",o.lcZ(96,77,"General::buildingName")),o.xp6(4),o.Oqu(o.lcZ(100,79,"General::postalCode")),o.xp6(3),o.s9C("placeholder",o.lcZ(103,81,"General::postalCode")),o.xp6(4),o.Oqu(o.lcZ(107,83,"General::city")),o.xp6(3),o.s9C("placeholder",o.lcZ(110,85,"General::state")),o.xp6(4),o.Oqu(o.lcZ(114,87,"General::stateProvince")),o.xp6(3),o.s9C("placeholder",o.lcZ(117,89,"General::state")),o.xp6(4),o.Oqu(o.lcZ(121,91,"General::country")),o.xp6(2),o.s9C("placeholder",o.lcZ(123,93,"General::country")),o.s9C("placeholder",o.lcZ(124,95,"General::country")),o.Q6J("items",n.countryList)("clearable",!1)}},dependencies:[l._Y,l.Fj,l.JJ,l.JL,l.nD,l.sg,l.u,Z.hL,Z.J5,r._L,p.w9,p.ir,p.mR,L.mh,s.fuE]})}return t})();var x=i(5668);const C=[{path:"",component:(()=>{class t{constructor(a){this._companyService=a,this.modalService=(0,o.f3M)(r.FF)}updateCompanySetting(){this.modalService.open(f,{fullscreen:!0,windowClass:"custom-modal"})}ngOnInit(){this.getCompanySetting()}getCompanySetting(){this._companyService.get().subscribe(a=>{this.company=a,console.log("this ===>",this.company)})}static#o=this.\u0275fac=function(e){return new(e||t)(o.Y36(g))};static#t=this.\u0275cmp=o.Xpm({type:t,selectors:[["app-setup"]],decls:58,vars:33,consts:[[1,"company-setup"],[1,"section-header","border-0","pb-0"],[3,"title"],[1,"section-header-actions"],[1,"input-search"],[1,"icon","fa-search","fa-solid"],["type","text","formcontrolname","searchTerm",1,"form-control",3,"placeholder"],[1,"section-body"],[1,"section-body-header"],[1,"setup","row"],[1,"col-lg-4","col-md-6"],[1,"setup-box",3,"click"],[1,"icon","company-color"],["src","assets/images/icons/building.svg"],[1,"info"],[1,"info-text"],[1,"info-hint"],[1,"setup-box"],[1,"icon","branding-color"],["src","assets/images/icons/color.svg"],[1,"icon","smc-color"],["src","assets/images/icons/message.svg"],[1,"icon","payment-color"],["src","assets/images/icons/credit-card.svg"]],template:function(e,n){1&e&&(o.TgZ(0,"section",0)(1,"div",1),o._UZ(2,"app-page-title-standalone",2),o.ALo(3,"abpLocalization"),o.TgZ(4,"div",3)(5,"div",4),o._UZ(6,"i",5)(7,"input",6),o.ALo(8,"abpLocalization"),o.qZA()()(),o.TgZ(9,"div",7)(10,"h2",8),o._uU(11),o.ALo(12,"abpLocalization"),o.qZA(),o.TgZ(13,"div",9)(14,"div",10)(15,"a",11),o.NdJ("click",function(){return n.updateCompanySetting()}),o.TgZ(16,"div",12),o._UZ(17,"img",13),o.qZA(),o.TgZ(18,"div",14)(19,"span",15),o._uU(20),o.ALo(21,"abpLocalization"),o.qZA(),o.TgZ(22,"span",16),o._uU(23),o.ALo(24,"abpLocalization"),o.qZA()()()(),o.TgZ(25,"div",10)(26,"a",17)(27,"div",18),o._UZ(28,"img",19),o.qZA(),o.TgZ(29,"div",14)(30,"span",15),o._uU(31),o.ALo(32,"abpLocalization"),o.qZA(),o.TgZ(33,"span",16),o._uU(34),o.ALo(35,"abpLocalization"),o.qZA()()()(),o.TgZ(36,"div",10)(37,"a",17)(38,"div",20),o._UZ(39,"img",21),o.qZA(),o.TgZ(40,"div",14)(41,"span",15),o._uU(42),o.ALo(43,"abpLocalization"),o.qZA(),o.TgZ(44,"span",16),o._uU(45),o.ALo(46,"abpLocalization"),o.qZA()()()(),o.TgZ(47,"div",10)(48,"a",17)(49,"div",22),o._UZ(50,"img",23),o.qZA(),o.TgZ(51,"div",14)(52,"span",15),o._uU(53),o.ALo(54,"abpLocalization"),o.qZA(),o.TgZ(55,"span",16),o._uU(56),o.ALo(57,"abpLocalization"),o.qZA()()()()()()()),2&e&&(o.xp6(2),o.s9C("title",o.lcZ(3,11,"General::setup")),o.xp6(5),o.s9C("placeholder",o.lcZ(8,13,"General::search")),o.xp6(4),o.Oqu(o.lcZ(12,15,"General::general")),o.xp6(9),o.Oqu(o.lcZ(21,17,"General::companySettings")),o.xp6(3),o.Oqu(o.lcZ(24,19,"General::companySettingsHint")),o.xp6(8),o.Oqu(o.lcZ(32,21,"General::branding")),o.xp6(3),o.Oqu(o.lcZ(35,23,"General::brandingHint")),o.xp6(8),o.Oqu(o.lcZ(43,25,"General::sms")),o.xp6(3),o.Oqu(o.lcZ(46,27,"General::smsHint")),o.xp6(8),o.Oqu(o.lcZ(54,29,"General::payments")),o.xp6(3),o.Oqu(o.lcZ(57,31,"General::paymentsHints")))},dependencies:[x.P,s.fuE]})}return t})()}];let T=(()=>{class t{static#o=this.\u0275fac=function(e){return new(e||t)};static#t=this.\u0275mod=o.oAB({type:t});static#a=this.\u0275inj=o.cJS({imports:[u.Bz.forChild(C),u.Bz]})}return t})();var q=i(2999);let U=(()=>{class t{static#o=this.\u0275fac=function(e){return new(e||t)};static#t=this.\u0275mod=o.oAB({type:t});static#a=this.\u0275inj=o.cJS({imports:[h.ez,T,q.m]})}return t})()}}]);